---
layout: post
title: 스프링 클라우드랑 만나다
subtitle: 모놀리틱에서 왜 MSA로 넘어갈까?
categories: MSA
tags: [MSA, Spring]
---

새로운 아키텍처를 구현하는 일은 애플리케이션 확장성, 서비스 디스커버리, 모니터링, 분산 추적, 보안 관리 등 난관이 너무 많다…

해당 문제들을 해결하는 방법과 MSA의 고려할 때 감안해야하는 장단점등 알려준다.

이번에 MSA 접목 기술들을 이용하여 구축하는 방법을 알아보려고 한다.

## 마이크로 서비스 아키텍처 진화

소프트웨어 아키텍처는 구성 요소 간 구조, 동작 상호 작용을 하는 모든 기초 부분으로 관련되어있다. 

아키텍처의 차이점을 보자

### N- 계층 아키텍처

UI, 서비스, 데이터, 테스팅 등 고유 책임과 기능이 있는 여러 계층으로 나눈다 

예를 들면 UI 프로젝트가 끝나면 데이터를 만들고 만든 것들을 결합하면 전체 애플리케이션을 가질 수 있다.

### 모놀리스 아키텍처

대부분 MSA가 대중적으로 뜨기 전에는 모놀리스 아키텍처 구조로 많이 구축을 했다. 모든 UI 비지니스 및 데이터베이스 액세스 로직 함께 고유한 애플리케이션으로 패키징되어 서버에 배포된다.

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/567c3791-6425-47c6-8827-47b8af00f711/Untitled.png)

애플리케이션은 단일 작업 단위로 배포 될 수 있지만 한 어플리케이션에서 여러 개발 팀이 작업하는 경우가 많다.

각 개발 팀은 일반적으로 특정 고객을 대상으로 하는 애플리케이션의 개별 부분 담당하고 있다.

한편 애플리케이션의 크기가 커지고 복잡성이 증가하면 모놀리스를 관리하는 것은 어려울 수도있다. 모놀리스 변경 시 다른 부분까지 영향이 갈 수도 있고 운영 환경의 시스템에서는 더 많은 시간 비용이 소모된다.

### 마이크로서비스

대규모 애플리케이션을 책임이 명확하고 관리하기 쉬운 구성 요소로 분해할 수 있다. 잘 정의된 작은 조각으로 분해해서 대규모 코드베이스에서 발생하는 전통적은 복잡성을 해결 했다.

마이크로서비스 핵심은 분해와 분리다.

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d35d2f03-d8c7-4218-b9aa-4d1139e41345/Untitled.png)

각 팀이 어떻게 그들의 서비스 코드와 서비스 인프라스트럭처를 완전히 소유하는지 보여준다. 각 구성 요소들을 작은 책임 영역을 담당하고 서로 독립적으로 배포를 진행한다.

또 다양한 언어와 기술로도 구현이 가능하며 명확한 책임 영역을 부여할 수 있어서 하나의 목표를 향해 일하더라도 각 팀은 그들의 작업하는 서비스에만 책임질 수 있게된다.

**마이크로 서비스의 이점은?**

- 작은 책임 영역으로 배포되고 있어 새로운 기능이 더 빠르게 개발 될 수 있다.
- 트랜잭션양을 처리 할 때 많은 서버를 신고하고 매끄럽게 확장하고 축소가 가능하다.
- 애플리케이션이 한 부분만 고장나기 때문에 회복성이 매우 높다.